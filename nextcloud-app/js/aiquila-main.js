const Ge=(e,t,n)=>{const r=Object.assign({escape:!0},{}),s=function(o,i){return i=i||{},o.replace(/{([^{}]*)}/g,function(u,f){const c=i[f];return r.escape?encodeURIComponent(typeof c=="string"||typeof c=="number"?c.toString():u):typeof c=="string"||typeof c=="number"?c.toString():u})};return e.charAt(0)!=="/"&&(e="/"+e),s(e,{})},le=(e,t,n)=>{const r=Object.assign({noRewrite:!1},{}),s=Kt();return window?.OC?.config?.modRewriteWorking===!0&&!r.noRewrite?s+Ge(e):s+"/index.php"+Ge(e)};function Kt(){let e=window._oc_webroot;if(typeof e>"u"){e=location.pathname;const t=e.indexOf("/index.php/");if(t!==-1)e=e.slice(0,t);else{const n=e.indexOf("/",1);e=e.slice(0,n>0?n:void 0)}}return e}function Wt(e,t,n){const r=`#initial-state-${e}-${t}`;if(window._nc_initial_state?.has(r))return window._nc_initial_state.get(r);window._nc_initial_state||(window._nc_initial_state=new Map);const s=document.querySelector(r);if(s===null)throw new Error(`Could not find initial state ${t} of ${e}`);try{const o=JSON.parse(atob(s.value));return window._nc_initial_state.set(r,o),o}catch(o){throw console.error("[@nextcloud/initial-state] Could not parse initial state",{key:t,app:e,error:o}),new Error(`Could not parse initial state ${t} of ${e}`,{cause:o})}}function bt(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Re,Xe;function yt(){if(Xe)return Re;Xe=1;var e={};return Re=typeof process=="object"&&e&&e.NODE_DEBUG&&/\bsemver\b/i.test(e.NODE_DEBUG)?(...n)=>console.error("SEMVER",...n):()=>{},Re}var we,Ve;function gt(){if(Ve)return we;Ve=1;const e="2.0.0",t=256,n=Number.MAX_SAFE_INTEGER||9007199254740991,r=16,s=t-6;return we={MAX_LENGTH:t,MAX_SAFE_COMPONENT_LENGTH:r,MAX_SAFE_BUILD_LENGTH:s,MAX_SAFE_INTEGER:n,RELEASE_TYPES:["major","premajor","minor","preminor","patch","prepatch","prerelease"],SEMVER_SPEC_VERSION:e,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2},we}var ne={exports:{}},ze;function Yt(){return ze||(ze=1,(function(e,t){const{MAX_SAFE_COMPONENT_LENGTH:n,MAX_SAFE_BUILD_LENGTH:r,MAX_LENGTH:s}=gt(),o=yt();t=e.exports={};const i=t.re=[],u=t.safeRe=[],f=t.src=[],c=t.safeSrc=[],a=t.t={};let p=0;const m="[a-zA-Z0-9-]",w=[["\\s",1],["\\d",s],[m,r]],h=E=>{for(const[b,S]of w)E=E.split(`${b}*`).join(`${b}{0,${S}}`).split(`${b}+`).join(`${b}{1,${S}}`);return E},d=(E,b,S)=>{const g=h(b),O=p++;o(E,O,b),a[E]=O,f[O]=b,c[O]=g,i[O]=new RegExp(b,S?"g":void 0),u[O]=new RegExp(g,S?"g":void 0)};d("NUMERICIDENTIFIER","0|[1-9]\\d*"),d("NUMERICIDENTIFIERLOOSE","\\d+"),d("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${m}*`),d("MAINVERSION",`(${f[a.NUMERICIDENTIFIER]})\\.(${f[a.NUMERICIDENTIFIER]})\\.(${f[a.NUMERICIDENTIFIER]})`),d("MAINVERSIONLOOSE",`(${f[a.NUMERICIDENTIFIERLOOSE]})\\.(${f[a.NUMERICIDENTIFIERLOOSE]})\\.(${f[a.NUMERICIDENTIFIERLOOSE]})`),d("PRERELEASEIDENTIFIER",`(?:${f[a.NONNUMERICIDENTIFIER]}|${f[a.NUMERICIDENTIFIER]})`),d("PRERELEASEIDENTIFIERLOOSE",`(?:${f[a.NONNUMERICIDENTIFIER]}|${f[a.NUMERICIDENTIFIERLOOSE]})`),d("PRERELEASE",`(?:-(${f[a.PRERELEASEIDENTIFIER]}(?:\\.${f[a.PRERELEASEIDENTIFIER]})*))`),d("PRERELEASELOOSE",`(?:-?(${f[a.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${f[a.PRERELEASEIDENTIFIERLOOSE]})*))`),d("BUILDIDENTIFIER",`${m}+`),d("BUILD",`(?:\\+(${f[a.BUILDIDENTIFIER]}(?:\\.${f[a.BUILDIDENTIFIER]})*))`),d("FULLPLAIN",`v?${f[a.MAINVERSION]}${f[a.PRERELEASE]}?${f[a.BUILD]}?`),d("FULL",`^${f[a.FULLPLAIN]}$`),d("LOOSEPLAIN",`[v=\\s]*${f[a.MAINVERSIONLOOSE]}${f[a.PRERELEASELOOSE]}?${f[a.BUILD]}?`),d("LOOSE",`^${f[a.LOOSEPLAIN]}$`),d("GTLT","((?:<|>)?=?)"),d("XRANGEIDENTIFIERLOOSE",`${f[a.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),d("XRANGEIDENTIFIER",`${f[a.NUMERICIDENTIFIER]}|x|X|\\*`),d("XRANGEPLAIN",`[v=\\s]*(${f[a.XRANGEIDENTIFIER]})(?:\\.(${f[a.XRANGEIDENTIFIER]})(?:\\.(${f[a.XRANGEIDENTIFIER]})(?:${f[a.PRERELEASE]})?${f[a.BUILD]}?)?)?`),d("XRANGEPLAINLOOSE",`[v=\\s]*(${f[a.XRANGEIDENTIFIERLOOSE]})(?:\\.(${f[a.XRANGEIDENTIFIERLOOSE]})(?:\\.(${f[a.XRANGEIDENTIFIERLOOSE]})(?:${f[a.PRERELEASELOOSE]})?${f[a.BUILD]}?)?)?`),d("XRANGE",`^${f[a.GTLT]}\\s*${f[a.XRANGEPLAIN]}$`),d("XRANGELOOSE",`^${f[a.GTLT]}\\s*${f[a.XRANGEPLAINLOOSE]}$`),d("COERCEPLAIN",`(^|[^\\d])(\\d{1,${n}})(?:\\.(\\d{1,${n}}))?(?:\\.(\\d{1,${n}}))?`),d("COERCE",`${f[a.COERCEPLAIN]}(?:$|[^\\d])`),d("COERCEFULL",f[a.COERCEPLAIN]+`(?:${f[a.PRERELEASE]})?(?:${f[a.BUILD]})?(?:$|[^\\d])`),d("COERCERTL",f[a.COERCE],!0),d("COERCERTLFULL",f[a.COERCEFULL],!0),d("LONETILDE","(?:~>?)"),d("TILDETRIM",`(\\s*)${f[a.LONETILDE]}\\s+`,!0),t.tildeTrimReplace="$1~",d("TILDE",`^${f[a.LONETILDE]}${f[a.XRANGEPLAIN]}$`),d("TILDELOOSE",`^${f[a.LONETILDE]}${f[a.XRANGEPLAINLOOSE]}$`),d("LONECARET","(?:\\^)"),d("CARETTRIM",`(\\s*)${f[a.LONECARET]}\\s+`,!0),t.caretTrimReplace="$1^",d("CARET",`^${f[a.LONECARET]}${f[a.XRANGEPLAIN]}$`),d("CARETLOOSE",`^${f[a.LONECARET]}${f[a.XRANGEPLAINLOOSE]}$`),d("COMPARATORLOOSE",`^${f[a.GTLT]}\\s*(${f[a.LOOSEPLAIN]})$|^$`),d("COMPARATOR",`^${f[a.GTLT]}\\s*(${f[a.FULLPLAIN]})$|^$`),d("COMPARATORTRIM",`(\\s*)${f[a.GTLT]}\\s*(${f[a.LOOSEPLAIN]}|${f[a.XRANGEPLAIN]})`,!0),t.comparatorTrimReplace="$1$2$3",d("HYPHENRANGE",`^\\s*(${f[a.XRANGEPLAIN]})\\s+-\\s+(${f[a.XRANGEPLAIN]})\\s*$`),d("HYPHENRANGELOOSE",`^\\s*(${f[a.XRANGEPLAINLOOSE]})\\s+-\\s+(${f[a.XRANGEPLAINLOOSE]})\\s*$`),d("STAR","(<|>)?=?\\s*\\*"),d("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),d("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")})(ne,ne.exports)),ne.exports}var be,Je;function Zt(){if(Je)return be;Je=1;const e=Object.freeze({loose:!0}),t=Object.freeze({});return be=r=>r?typeof r!="object"?e:r:t,be}var ye,Ke;function Qt(){if(Ke)return ye;Ke=1;const e=/^[0-9]+$/,t=(r,s)=>{if(typeof r=="number"&&typeof s=="number")return r===s?0:r<s?-1:1;const o=e.test(r),i=e.test(s);return o&&i&&(r=+r,s=+s),r===s?0:o&&!i?-1:i&&!o?1:r<s?-1:1};return ye={compareIdentifiers:t,rcompareIdentifiers:(r,s)=>t(s,r)},ye}var ge,We;function Ot(){if(We)return ge;We=1;const e=yt(),{MAX_LENGTH:t,MAX_SAFE_INTEGER:n}=gt(),{safeRe:r,t:s}=Yt(),o=Zt(),{compareIdentifiers:i}=Qt();class u{constructor(c,a){if(a=o(a),c instanceof u){if(c.loose===!!a.loose&&c.includePrerelease===!!a.includePrerelease)return c;c=c.version}else if(typeof c!="string")throw new TypeError(`Invalid version. Must be a string. Got type "${typeof c}".`);if(c.length>t)throw new TypeError(`version is longer than ${t} characters`);e("SemVer",c,a),this.options=a,this.loose=!!a.loose,this.includePrerelease=!!a.includePrerelease;const p=c.trim().match(a.loose?r[s.LOOSE]:r[s.FULL]);if(!p)throw new TypeError(`Invalid Version: ${c}`);if(this.raw=c,this.major=+p[1],this.minor=+p[2],this.patch=+p[3],this.major>n||this.major<0)throw new TypeError("Invalid major version");if(this.minor>n||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>n||this.patch<0)throw new TypeError("Invalid patch version");p[4]?this.prerelease=p[4].split(".").map(m=>{if(/^[0-9]+$/.test(m)){const w=+m;if(w>=0&&w<n)return w}return m}):this.prerelease=[],this.build=p[5]?p[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(c){if(e("SemVer.compare",this.version,this.options,c),!(c instanceof u)){if(typeof c=="string"&&c===this.version)return 0;c=new u(c,this.options)}return c.version===this.version?0:this.compareMain(c)||this.comparePre(c)}compareMain(c){return c instanceof u||(c=new u(c,this.options)),this.major<c.major?-1:this.major>c.major?1:this.minor<c.minor?-1:this.minor>c.minor?1:this.patch<c.patch?-1:this.patch>c.patch?1:0}comparePre(c){if(c instanceof u||(c=new u(c,this.options)),this.prerelease.length&&!c.prerelease.length)return-1;if(!this.prerelease.length&&c.prerelease.length)return 1;if(!this.prerelease.length&&!c.prerelease.length)return 0;let a=0;do{const p=this.prerelease[a],m=c.prerelease[a];if(e("prerelease compare",a,p,m),p===void 0&&m===void 0)return 0;if(m===void 0)return 1;if(p===void 0)return-1;if(p===m)continue;return i(p,m)}while(++a)}compareBuild(c){c instanceof u||(c=new u(c,this.options));let a=0;do{const p=this.build[a],m=c.build[a];if(e("build compare",a,p,m),p===void 0&&m===void 0)return 0;if(m===void 0)return 1;if(p===void 0)return-1;if(p===m)continue;return i(p,m)}while(++a)}inc(c,a,p){if(c.startsWith("pre")){if(!a&&p===!1)throw new Error("invalid increment argument: identifier is empty");if(a){const m=`-${a}`.match(this.options.loose?r[s.PRERELEASELOOSE]:r[s.PRERELEASE]);if(!m||m[1]!==a)throw new Error(`invalid identifier: ${a}`)}}switch(c){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",a,p);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",a,p);break;case"prepatch":this.prerelease.length=0,this.inc("patch",a,p),this.inc("pre",a,p);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",a,p),this.inc("pre",a,p);break;case"release":if(this.prerelease.length===0)throw new Error(`version ${this.raw} is not a prerelease`);this.prerelease.length=0;break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{const m=Number(p)?1:0;if(this.prerelease.length===0)this.prerelease=[m];else{let w=this.prerelease.length;for(;--w>=0;)typeof this.prerelease[w]=="number"&&(this.prerelease[w]++,w=-2);if(w===-1){if(a===this.prerelease.join(".")&&p===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(m)}}if(a){let w=[a,m];p===!1&&(w=[a]),i(this.prerelease[0],a)===0?isNaN(this.prerelease[1])&&(this.prerelease=w):this.prerelease=w}break}default:throw new Error(`invalid increment argument: ${c}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}}return ge=u,ge}var Oe,Ye;function en(){if(Ye)return Oe;Ye=1;const e=Ot();return Oe=(n,r)=>new e(n,r).major,Oe}var tn=en();const Ze=bt(tn);var Se,Qe;function nn(){if(Qe)return Se;Qe=1;const e=Ot();return Se=(n,r,s=!1)=>{if(n instanceof e)return n;try{return new e(n,r)}catch(o){if(!s)return null;throw o}},Se}var Ae,et;function rn(){if(et)return Ae;et=1;const e=nn();return Ae=(n,r)=>{const s=e(n,r);return s?s.version:null},Ae}var sn=rn();const on=bt(sn);class an{bus;constructor(t){typeof t.getVersion!="function"||!on(t.getVersion())?console.warn("Proxying an event bus with an unknown or invalid version"):Ze(t.getVersion())!==Ze(this.getVersion())&&console.warn("Proxying an event bus of version "+t.getVersion()+" with "+this.getVersion()),this.bus=t}getVersion(){return"3.3.3"}subscribe(t,n){this.bus.subscribe(t,n)}unsubscribe(t,n){this.bus.unsubscribe(t,n)}emit(t,...n){this.bus.emit(t,...n)}}class cn{handlers=new Map;getVersion(){return"3.3.3"}subscribe(t,n){this.handlers.set(t,(this.handlers.get(t)||[]).concat(n))}unsubscribe(t,n){this.handlers.set(t,(this.handlers.get(t)||[]).filter(r=>r!==n))}emit(t,...n){(this.handlers.get(t)||[]).forEach(s=>{try{s(n[0])}catch(o){console.error("could not invoke event listener",o)}})}}let G=null;function ln(){return G!==null?G:typeof window>"u"?new Proxy({},{get:()=>()=>console.error("Window not available, EventBus can not be established!")}):(window.OC?._eventBus&&typeof window._nc_event_bus>"u"&&(console.warn("found old event bus instance at OC._eventBus. Update your version!"),window._nc_event_bus=window.OC._eventBus),typeof window?._nc_event_bus<"u"?G=new an(window._nc_event_bus):G=window._nc_event_bus=new cn,G)}function un(e,t){ln().subscribe(e,t)}class ae{static GLOBAL_SCOPE_VOLATILE="nextcloud_vol";static GLOBAL_SCOPE_PERSISTENT="nextcloud_per";scope;wrapped;constructor(t,n,r){this.scope=`${r?ae.GLOBAL_SCOPE_PERSISTENT:ae.GLOBAL_SCOPE_VOLATILE}_${btoa(t)}_`,this.wrapped=n}scopeKey(t){return`${this.scope}${t}`}setItem(t,n){this.wrapped.setItem(this.scopeKey(t),n)}getItem(t){return this.wrapped.getItem(this.scopeKey(t))}removeItem(t){this.wrapped.removeItem(this.scopeKey(t))}clear(){Object.keys(this.wrapped).filter(t=>t.startsWith(this.scope)).map(this.wrapped.removeItem.bind(this.wrapped))}}class fn{appId;persisted=!1;clearedOnLogout=!1;constructor(t){this.appId=t}persist(t=!0){return this.persisted=t,this}clearOnLogout(t=!0){return this.clearedOnLogout=t,this}build(){return new ae(this.appId,this.persisted?window.localStorage:window.sessionStorage,!this.clearedOnLogout)}}function dn(e){return new fn(e)}let z;const St=[];function pn(){return z===void 0&&(z=document.head.dataset.requesttoken??null),z}function hn(e){St.push(e)}un("csrf-token-update",e=>{z=e.token,St.forEach(t=>{try{t(z)}catch(n){console.error("Error updating CSRF token observer",n)}})});dn("public").persist().build();function At(e,t){return function(){return e.apply(t,arguments)}}const{toString:En}=Object.prototype,{getPrototypeOf:$e}=Object,{iterator:ue,toStringTag:Tt}=Symbol,fe=(e=>t=>{const n=En.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),C=e=>(e=e.toLowerCase(),t=>fe(t)===e),de=e=>t=>typeof t===e,{isArray:q}=Array,M=de("undefined");function J(e){return e!==null&&!M(e)&&e.constructor!==null&&!M(e.constructor)&&T(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const Lt=C("ArrayBuffer");function mn(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&Lt(e.buffer),t}const Rn=de("string"),T=de("function"),Nt=de("number"),K=e=>e!==null&&typeof e=="object",wn=e=>e===!0||e===!1,se=e=>{if(fe(e)!=="object")return!1;const t=$e(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Tt in e)&&!(ue in e)},bn=e=>{if(!K(e)||J(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},yn=C("Date"),gn=C("File"),On=C("Blob"),Sn=C("FileList"),An=e=>K(e)&&T(e.pipe),Tn=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||T(e.append)&&((t=fe(e))==="formdata"||t==="object"&&T(e.toString)&&e.toString()==="[object FormData]"))},Ln=C("URLSearchParams"),[Nn,In,Cn,_n]=["ReadableStream","Request","Response","Headers"].map(C),Pn=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function W(e,t,{allOwnKeys:n=!1}={}){if(e===null||typeof e>"u")return;let r,s;if(typeof e!="object"&&(e=[e]),q(e))for(r=0,s=e.length;r<s;r++)t.call(null,e[r],r,e);else{if(J(e))return;const o=n?Object.getOwnPropertyNames(e):Object.keys(e),i=o.length;let u;for(r=0;r<i;r++)u=o[r],t.call(null,e[u],u,e)}}function It(e,t){if(J(e))return null;t=t.toLowerCase();const n=Object.keys(e);let r=n.length,s;for(;r-- >0;)if(s=n[r],t===s.toLowerCase())return s;return null}const U=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Ct=e=>!M(e)&&e!==U;function Ce(){const{caseless:e,skipUndefined:t}=Ct(this)&&this||{},n={},r=(s,o)=>{const i=e&&It(n,o)||o;se(n[i])&&se(s)?n[i]=Ce(n[i],s):se(s)?n[i]=Ce({},s):q(s)?n[i]=s.slice():(!t||!M(s))&&(n[i]=s)};for(let s=0,o=arguments.length;s<o;s++)arguments[s]&&W(arguments[s],r);return n}const xn=(e,t,n,{allOwnKeys:r}={})=>(W(t,(s,o)=>{n&&T(s)?Object.defineProperty(e,o,{value:At(s,n),writable:!0,enumerable:!0,configurable:!0}):Object.defineProperty(e,o,{value:s,writable:!0,enumerable:!0,configurable:!0})},{allOwnKeys:r}),e),$n=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),Fn=(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),Object.defineProperty(e.prototype,"constructor",{value:e,writable:!0,enumerable:!1,configurable:!0}),Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},Dn=(e,t,n,r)=>{let s,o,i;const u={};if(t=t||{},e==null)return t;do{for(s=Object.getOwnPropertyNames(e),o=s.length;o-- >0;)i=s[o],(!r||r(i,e,t))&&!u[i]&&(t[i]=e[i],u[i]=!0);e=n!==!1&&$e(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},Un=(e,t,n)=>{e=String(e),(n===void 0||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return r!==-1&&r===n},vn=e=>{if(!e)return null;if(q(e))return e;let t=e.length;if(!Nt(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},kn=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&$e(Uint8Array)),Bn=(e,t)=>{const r=(e&&e[ue]).call(e);let s;for(;(s=r.next())&&!s.done;){const o=s.value;t.call(e,o[0],o[1])}},Mn=(e,t)=>{let n;const r=[];for(;(n=e.exec(t))!==null;)r.push(n);return r},jn=C("HTMLFormElement"),qn=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,s){return r.toUpperCase()+s}),tt=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),Hn=C("RegExp"),_t=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};W(n,(s,o)=>{let i;(i=t(s,o,e))!==!1&&(r[o]=i||s)}),Object.defineProperties(e,r)},Gn=e=>{_t(e,(t,n)=>{if(T(e)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=e[n];if(T(r)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},Xn=(e,t)=>{const n={},r=s=>{s.forEach(o=>{n[o]=!0})};return q(e)?r(e):r(String(e).split(t)),n},Vn=()=>{},zn=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function Jn(e){return!!(e&&T(e.append)&&e[Tt]==="FormData"&&e[ue])}const Kn=e=>{const t=new Array(10),n=(r,s)=>{if(K(r)){if(t.indexOf(r)>=0)return;if(J(r))return r;if(!("toJSON"in r)){t[s]=r;const o=q(r)?[]:{};return W(r,(i,u)=>{const f=n(i,s+1);!M(f)&&(o[u]=f)}),t[s]=void 0,o}}return r};return n(e,0)},Wn=C("AsyncFunction"),Yn=e=>e&&(K(e)||T(e))&&T(e.then)&&T(e.catch),Pt=((e,t)=>e?setImmediate:t?((n,r)=>(U.addEventListener("message",({source:s,data:o})=>{s===U&&o===n&&r.length&&r.shift()()},!1),s=>{r.push(s),U.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",T(U.postMessage)),Zn=typeof queueMicrotask<"u"?queueMicrotask.bind(U):typeof process<"u"&&process.nextTick||Pt,Qn=e=>e!=null&&T(e[ue]),l={isArray:q,isArrayBuffer:Lt,isBuffer:J,isFormData:Tn,isArrayBufferView:mn,isString:Rn,isNumber:Nt,isBoolean:wn,isObject:K,isPlainObject:se,isEmptyObject:bn,isReadableStream:Nn,isRequest:In,isResponse:Cn,isHeaders:_n,isUndefined:M,isDate:yn,isFile:gn,isBlob:On,isRegExp:Hn,isFunction:T,isStream:An,isURLSearchParams:Ln,isTypedArray:kn,isFileList:Sn,forEach:W,merge:Ce,extend:xn,trim:Pn,stripBOM:$n,inherits:Fn,toFlatObject:Dn,kindOf:fe,kindOfTest:C,endsWith:Un,toArray:vn,forEachEntry:Bn,matchAll:Mn,isHTMLForm:jn,hasOwnProperty:tt,hasOwnProp:tt,reduceDescriptors:_t,freezeMethods:Gn,toObjectSet:Xn,toCamelCase:qn,noop:Vn,toFiniteNumber:zn,findKey:It,global:U,isContextDefined:Ct,isSpecCompliantForm:Jn,toJSONObject:Kn,isAsyncFn:Wn,isThenable:Yn,setImmediate:Pt,asap:Zn,isIterable:Qn};let R=class xt extends Error{static from(t,n,r,s,o,i){const u=new xt(t.message,n||t.code,r,s,o);return u.cause=t,u.name=t.name,i&&Object.assign(u,i),u}constructor(t,n,r,s,o){super(t),this.name="AxiosError",this.isAxiosError=!0,n&&(this.code=n),r&&(this.config=r),s&&(this.request=s),o&&(this.response=o,this.status=o.status)}toJSON(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:l.toJSONObject(this.config),code:this.code,status:this.status}}};R.ERR_BAD_OPTION_VALUE="ERR_BAD_OPTION_VALUE";R.ERR_BAD_OPTION="ERR_BAD_OPTION";R.ECONNABORTED="ECONNABORTED";R.ETIMEDOUT="ETIMEDOUT";R.ERR_NETWORK="ERR_NETWORK";R.ERR_FR_TOO_MANY_REDIRECTS="ERR_FR_TOO_MANY_REDIRECTS";R.ERR_DEPRECATED="ERR_DEPRECATED";R.ERR_BAD_RESPONSE="ERR_BAD_RESPONSE";R.ERR_BAD_REQUEST="ERR_BAD_REQUEST";R.ERR_CANCELED="ERR_CANCELED";R.ERR_NOT_SUPPORT="ERR_NOT_SUPPORT";R.ERR_INVALID_URL="ERR_INVALID_URL";const er=null;function _e(e){return l.isPlainObject(e)||l.isArray(e)}function $t(e){return l.endsWith(e,"[]")?e.slice(0,-2):e}function nt(e,t,n){return e?e.concat(t).map(function(s,o){return s=$t(s),!n&&o?"["+s+"]":s}).join(n?".":""):t}function tr(e){return l.isArray(e)&&!e.some(_e)}const nr=l.toFlatObject(l,{},null,function(t){return/^is[A-Z]/.test(t)});function pe(e,t,n){if(!l.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,n=l.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(d,E){return!l.isUndefined(E[d])});const r=n.metaTokens,s=n.visitor||a,o=n.dots,i=n.indexes,f=(n.Blob||typeof Blob<"u"&&Blob)&&l.isSpecCompliantForm(t);if(!l.isFunction(s))throw new TypeError("visitor must be a function");function c(h){if(h===null)return"";if(l.isDate(h))return h.toISOString();if(l.isBoolean(h))return h.toString();if(!f&&l.isBlob(h))throw new R("Blob is not supported. Use a Buffer instead.");return l.isArrayBuffer(h)||l.isTypedArray(h)?f&&typeof Blob=="function"?new Blob([h]):Buffer.from(h):h}function a(h,d,E){let b=h;if(h&&!E&&typeof h=="object"){if(l.endsWith(d,"{}"))d=r?d:d.slice(0,-2),h=JSON.stringify(h);else if(l.isArray(h)&&tr(h)||(l.isFileList(h)||l.endsWith(d,"[]"))&&(b=l.toArray(h)))return d=$t(d),b.forEach(function(g,O){!(l.isUndefined(g)||g===null)&&t.append(i===!0?nt([d],O,o):i===null?d:d+"[]",c(g))}),!1}return _e(h)?!0:(t.append(nt(E,d,o),c(h)),!1)}const p=[],m=Object.assign(nr,{defaultVisitor:a,convertValue:c,isVisitable:_e});function w(h,d){if(!l.isUndefined(h)){if(p.indexOf(h)!==-1)throw Error("Circular reference detected in "+d.join("."));p.push(h),l.forEach(h,function(b,S){(!(l.isUndefined(b)||b===null)&&s.call(t,b,l.isString(S)?S.trim():S,d,m))===!0&&w(b,d?d.concat(S):[S])}),p.pop()}}if(!l.isObject(e))throw new TypeError("data must be an object");return w(e),t}function rt(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(r){return t[r]})}function Fe(e,t){this._pairs=[],e&&pe(e,this,t)}const Ft=Fe.prototype;Ft.append=function(t,n){this._pairs.push([t,n])};Ft.toString=function(t){const n=t?function(r){return t.call(this,r,rt)}:rt;return this._pairs.map(function(s){return n(s[0])+"="+n(s[1])},"").join("&")};function rr(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function Dt(e,t,n){if(!t)return e;const r=n&&n.encode||rr,s=l.isFunction(n)?{serialize:n}:n,o=s&&s.serialize;let i;if(o?i=o(t,s):i=l.isURLSearchParams(t)?t.toString():new Fe(t,s).toString(r),i){const u=e.indexOf("#");u!==-1&&(e=e.slice(0,u)),e+=(e.indexOf("?")===-1?"?":"&")+i}return e}class st{constructor(){this.handlers=[]}use(t,n,r){return this.handlers.push({fulfilled:t,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){l.forEach(this.handlers,function(r){r!==null&&t(r)})}}const Ut={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},sr=typeof URLSearchParams<"u"?URLSearchParams:Fe,or=typeof FormData<"u"?FormData:null,ir=typeof Blob<"u"?Blob:null,ar={isBrowser:!0,classes:{URLSearchParams:sr,FormData:or,Blob:ir},protocols:["http","https","file","blob","url","data"]},De=typeof window<"u"&&typeof document<"u",Pe=typeof navigator=="object"&&navigator||void 0,cr=De&&(!Pe||["ReactNative","NativeScript","NS"].indexOf(Pe.product)<0),lr=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",ur=De&&window.location.href||"http://localhost",fr=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:De,hasStandardBrowserEnv:cr,hasStandardBrowserWebWorkerEnv:lr,navigator:Pe,origin:ur},Symbol.toStringTag,{value:"Module"})),A={...fr,...ar};function dr(e,t){return pe(e,new A.classes.URLSearchParams,{visitor:function(n,r,s,o){return A.isNode&&l.isBuffer(n)?(this.append(r,n.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)},...t})}function pr(e){return l.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function hr(e){const t={},n=Object.keys(e);let r;const s=n.length;let o;for(r=0;r<s;r++)o=n[r],t[o]=e[o];return t}function vt(e){function t(n,r,s,o){let i=n[o++];if(i==="__proto__")return!0;const u=Number.isFinite(+i),f=o>=n.length;return i=!i&&l.isArray(s)?s.length:i,f?(l.hasOwnProp(s,i)?s[i]=[s[i],r]:s[i]=r,!u):((!s[i]||!l.isObject(s[i]))&&(s[i]=[]),t(n,r,s[i],o)&&l.isArray(s[i])&&(s[i]=hr(s[i])),!u)}if(l.isFormData(e)&&l.isFunction(e.entries)){const n={};return l.forEachEntry(e,(r,s)=>{t(pr(r),s,n,0)}),n}return null}function Er(e,t,n){if(l.isString(e))try{return(t||JSON.parse)(e),l.trim(e)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(e)}const Y={transitional:Ut,adapter:["xhr","http","fetch"],transformRequest:[function(t,n){const r=n.getContentType()||"",s=r.indexOf("application/json")>-1,o=l.isObject(t);if(o&&l.isHTMLForm(t)&&(t=new FormData(t)),l.isFormData(t))return s?JSON.stringify(vt(t)):t;if(l.isArrayBuffer(t)||l.isBuffer(t)||l.isStream(t)||l.isFile(t)||l.isBlob(t)||l.isReadableStream(t))return t;if(l.isArrayBufferView(t))return t.buffer;if(l.isURLSearchParams(t))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let u;if(o){if(r.indexOf("application/x-www-form-urlencoded")>-1)return dr(t,this.formSerializer).toString();if((u=l.isFileList(t))||r.indexOf("multipart/form-data")>-1){const f=this.env&&this.env.FormData;return pe(u?{"files[]":t}:t,f&&new f,this.formSerializer)}}return o||s?(n.setContentType("application/json",!1),Er(t)):t}],transformResponse:[function(t){const n=this.transitional||Y.transitional,r=n&&n.forcedJSONParsing,s=this.responseType==="json";if(l.isResponse(t)||l.isReadableStream(t))return t;if(t&&l.isString(t)&&(r&&!this.responseType||s)){const i=!(n&&n.silentJSONParsing)&&s;try{return JSON.parse(t,this.parseReviver)}catch(u){if(i)throw u.name==="SyntaxError"?R.from(u,R.ERR_BAD_RESPONSE,this,null,this.response):u}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:A.classes.FormData,Blob:A.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};l.forEach(["delete","get","head","post","put","patch"],e=>{Y.headers[e]={}});const mr=l.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Rr=e=>{const t={};let n,r,s;return e&&e.split(`
`).forEach(function(i){s=i.indexOf(":"),n=i.substring(0,s).trim().toLowerCase(),r=i.substring(s+1).trim(),!(!n||t[n]&&mr[n])&&(n==="set-cookie"?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)}),t},ot=Symbol("internals");function X(e){return e&&String(e).trim().toLowerCase()}function oe(e){return e===!1||e==null?e:l.isArray(e)?e.map(oe):String(e)}function wr(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}const br=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function Te(e,t,n,r,s){if(l.isFunction(r))return r.call(this,t,n);if(s&&(t=n),!!l.isString(t)){if(l.isString(r))return t.indexOf(r)!==-1;if(l.isRegExp(r))return r.test(t)}}function yr(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,n,r)=>n.toUpperCase()+r)}function gr(e,t){const n=l.toCamelCase(" "+t);["get","set","has"].forEach(r=>{Object.defineProperty(e,r+n,{value:function(s,o,i){return this[r].call(this,t,s,o,i)},configurable:!0})})}let L=class{constructor(t){t&&this.set(t)}set(t,n,r){const s=this;function o(u,f,c){const a=X(f);if(!a)throw new Error("header name must be a non-empty string");const p=l.findKey(s,a);(!p||s[p]===void 0||c===!0||c===void 0&&s[p]!==!1)&&(s[p||f]=oe(u))}const i=(u,f)=>l.forEach(u,(c,a)=>o(c,a,f));if(l.isPlainObject(t)||t instanceof this.constructor)i(t,n);else if(l.isString(t)&&(t=t.trim())&&!br(t))i(Rr(t),n);else if(l.isObject(t)&&l.isIterable(t)){let u={},f,c;for(const a of t){if(!l.isArray(a))throw TypeError("Object iterator must return a key-value pair");u[c=a[0]]=(f=u[c])?l.isArray(f)?[...f,a[1]]:[f,a[1]]:a[1]}i(u,n)}else t!=null&&o(n,t,r);return this}get(t,n){if(t=X(t),t){const r=l.findKey(this,t);if(r){const s=this[r];if(!n)return s;if(n===!0)return wr(s);if(l.isFunction(n))return n.call(this,s,r);if(l.isRegExp(n))return n.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,n){if(t=X(t),t){const r=l.findKey(this,t);return!!(r&&this[r]!==void 0&&(!n||Te(this,this[r],r,n)))}return!1}delete(t,n){const r=this;let s=!1;function o(i){if(i=X(i),i){const u=l.findKey(r,i);u&&(!n||Te(r,r[u],u,n))&&(delete r[u],s=!0)}}return l.isArray(t)?t.forEach(o):o(t),s}clear(t){const n=Object.keys(this);let r=n.length,s=!1;for(;r--;){const o=n[r];(!t||Te(this,this[o],o,t,!0))&&(delete this[o],s=!0)}return s}normalize(t){const n=this,r={};return l.forEach(this,(s,o)=>{const i=l.findKey(r,o);if(i){n[i]=oe(s),delete n[o];return}const u=t?yr(o):String(o).trim();u!==o&&delete n[o],n[u]=oe(s),r[u]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const n=Object.create(null);return l.forEach(this,(r,s)=>{r!=null&&r!==!1&&(n[s]=t&&l.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,n])=>t+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...n){const r=new this(t);return n.forEach(s=>r.set(s)),r}static accessor(t){const r=(this[ot]=this[ot]={accessors:{}}).accessors,s=this.prototype;function o(i){const u=X(i);r[u]||(gr(s,i),r[u]=!0)}return l.isArray(t)?t.forEach(o):o(t),this}};L.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);l.reduceDescriptors(L.prototype,({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(r){this[n]=r}}});l.freezeMethods(L);function Le(e,t){const n=this||Y,r=t||n,s=L.from(r.headers);let o=r.data;return l.forEach(e,function(u){o=u.call(n,o,s.normalize(),t?t.status:void 0)}),s.normalize(),o}function kt(e){return!!(e&&e.__CANCEL__)}let Z=class extends R{constructor(t,n,r){super(t??"canceled",R.ERR_CANCELED,n,r),this.name="CanceledError",this.__CANCEL__=!0}};function Bt(e,t,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?e(n):t(new R("Request failed with status code "+n.status,[R.ERR_BAD_REQUEST,R.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function Or(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function Sr(e,t){e=e||10;const n=new Array(e),r=new Array(e);let s=0,o=0,i;return t=t!==void 0?t:1e3,function(f){const c=Date.now(),a=r[o];i||(i=c),n[s]=f,r[s]=c;let p=o,m=0;for(;p!==s;)m+=n[p++],p=p%e;if(s=(s+1)%e,s===o&&(o=(o+1)%e),c-i<t)return;const w=a&&c-a;return w?Math.round(m*1e3/w):void 0}}function Ar(e,t){let n=0,r=1e3/t,s,o;const i=(c,a=Date.now())=>{n=a,s=null,o&&(clearTimeout(o),o=null),e(...c)};return[(...c)=>{const a=Date.now(),p=a-n;p>=r?i(c,a):(s=c,o||(o=setTimeout(()=>{o=null,i(s)},r-p)))},()=>s&&i(s)]}const ce=(e,t,n=3)=>{let r=0;const s=Sr(50,250);return Ar(o=>{const i=o.loaded,u=o.lengthComputable?o.total:void 0,f=i-r,c=s(f),a=i<=u;r=i;const p={loaded:i,total:u,progress:u?i/u:void 0,bytes:f,rate:c||void 0,estimated:c&&u&&a?(u-i)/c:void 0,event:o,lengthComputable:u!=null,[t?"download":"upload"]:!0};e(p)},n)},it=(e,t)=>{const n=e!=null;return[r=>t[0]({lengthComputable:n,total:e,loaded:r}),t[1]]},at=e=>(...t)=>l.asap(()=>e(...t)),Tr=A.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,A.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL(A.origin),A.navigator&&/(msie|trident)/i.test(A.navigator.userAgent)):()=>!0,Lr=A.hasStandardBrowserEnv?{write(e,t,n,r,s,o,i){if(typeof document>"u")return;const u=[`${e}=${encodeURIComponent(t)}`];l.isNumber(n)&&u.push(`expires=${new Date(n).toUTCString()}`),l.isString(r)&&u.push(`path=${r}`),l.isString(s)&&u.push(`domain=${s}`),o===!0&&u.push("secure"),l.isString(i)&&u.push(`SameSite=${i}`),document.cookie=u.join("; ")},read(e){if(typeof document>"u")return null;const t=document.cookie.match(new RegExp("(?:^|; )"+e+"=([^;]*)"));return t?decodeURIComponent(t[1]):null},remove(e){this.write(e,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function Nr(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function Ir(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function Mt(e,t,n){let r=!Nr(t);return e&&(r||n==!1)?Ir(e,t):t}const ct=e=>e instanceof L?{...e}:e;function k(e,t){t=t||{};const n={};function r(c,a,p,m){return l.isPlainObject(c)&&l.isPlainObject(a)?l.merge.call({caseless:m},c,a):l.isPlainObject(a)?l.merge({},a):l.isArray(a)?a.slice():a}function s(c,a,p,m){if(l.isUndefined(a)){if(!l.isUndefined(c))return r(void 0,c,p,m)}else return r(c,a,p,m)}function o(c,a){if(!l.isUndefined(a))return r(void 0,a)}function i(c,a){if(l.isUndefined(a)){if(!l.isUndefined(c))return r(void 0,c)}else return r(void 0,a)}function u(c,a,p){if(p in t)return r(c,a);if(p in e)return r(void 0,c)}const f={url:o,method:o,data:o,baseURL:i,transformRequest:i,transformResponse:i,paramsSerializer:i,timeout:i,timeoutMessage:i,withCredentials:i,withXSRFToken:i,adapter:i,responseType:i,xsrfCookieName:i,xsrfHeaderName:i,onUploadProgress:i,onDownloadProgress:i,decompress:i,maxContentLength:i,maxBodyLength:i,beforeRedirect:i,transport:i,httpAgent:i,httpsAgent:i,cancelToken:i,socketPath:i,responseEncoding:i,validateStatus:u,headers:(c,a,p)=>s(ct(c),ct(a),p,!0)};return l.forEach(Object.keys({...e,...t}),function(a){const p=f[a]||s,m=p(e[a],t[a],a);l.isUndefined(m)&&p!==u||(n[a]=m)}),n}const jt=e=>{const t=k({},e);let{data:n,withXSRFToken:r,xsrfHeaderName:s,xsrfCookieName:o,headers:i,auth:u}=t;if(t.headers=i=L.from(i),t.url=Dt(Mt(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),u&&i.set("Authorization","Basic "+btoa((u.username||"")+":"+(u.password?unescape(encodeURIComponent(u.password)):""))),l.isFormData(n)){if(A.hasStandardBrowserEnv||A.hasStandardBrowserWebWorkerEnv)i.setContentType(void 0);else if(l.isFunction(n.getHeaders)){const f=n.getHeaders(),c=["content-type","content-length"];Object.entries(f).forEach(([a,p])=>{c.includes(a.toLowerCase())&&i.set(a,p)})}}if(A.hasStandardBrowserEnv&&(r&&l.isFunction(r)&&(r=r(t)),r||r!==!1&&Tr(t.url))){const f=s&&o&&Lr.read(o);f&&i.set(s,f)}return t},Cr=typeof XMLHttpRequest<"u",_r=Cr&&function(e){return new Promise(function(n,r){const s=jt(e);let o=s.data;const i=L.from(s.headers).normalize();let{responseType:u,onUploadProgress:f,onDownloadProgress:c}=s,a,p,m,w,h;function d(){w&&w(),h&&h(),s.cancelToken&&s.cancelToken.unsubscribe(a),s.signal&&s.signal.removeEventListener("abort",a)}let E=new XMLHttpRequest;E.open(s.method.toUpperCase(),s.url,!0),E.timeout=s.timeout;function b(){if(!E)return;const g=L.from("getAllResponseHeaders"in E&&E.getAllResponseHeaders()),I={data:!u||u==="text"||u==="json"?E.responseText:E.response,status:E.status,statusText:E.statusText,headers:g,config:e,request:E};Bt(function(N){n(N),d()},function(N){r(N),d()},I),E=null}"onloadend"in E?E.onloadend=b:E.onreadystatechange=function(){!E||E.readyState!==4||E.status===0&&!(E.responseURL&&E.responseURL.indexOf("file:")===0)||setTimeout(b)},E.onabort=function(){E&&(r(new R("Request aborted",R.ECONNABORTED,e,E)),E=null)},E.onerror=function(O){const I=O&&O.message?O.message:"Network Error",F=new R(I,R.ERR_NETWORK,e,E);F.event=O||null,r(F),E=null},E.ontimeout=function(){let O=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded";const I=s.transitional||Ut;s.timeoutErrorMessage&&(O=s.timeoutErrorMessage),r(new R(O,I.clarifyTimeoutError?R.ETIMEDOUT:R.ECONNABORTED,e,E)),E=null},o===void 0&&i.setContentType(null),"setRequestHeader"in E&&l.forEach(i.toJSON(),function(O,I){E.setRequestHeader(I,O)}),l.isUndefined(s.withCredentials)||(E.withCredentials=!!s.withCredentials),u&&u!=="json"&&(E.responseType=s.responseType),c&&([m,h]=ce(c,!0),E.addEventListener("progress",m)),f&&E.upload&&([p,w]=ce(f),E.upload.addEventListener("progress",p),E.upload.addEventListener("loadend",w)),(s.cancelToken||s.signal)&&(a=g=>{E&&(r(!g||g.type?new Z(null,e,E):g),E.abort(),E=null)},s.cancelToken&&s.cancelToken.subscribe(a),s.signal&&(s.signal.aborted?a():s.signal.addEventListener("abort",a)));const S=Or(s.url);if(S&&A.protocols.indexOf(S)===-1){r(new R("Unsupported protocol "+S+":",R.ERR_BAD_REQUEST,e));return}E.send(o||null)})},Pr=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let r=new AbortController,s;const o=function(c){if(!s){s=!0,u();const a=c instanceof Error?c:this.reason;r.abort(a instanceof R?a:new Z(a instanceof Error?a.message:a))}};let i=t&&setTimeout(()=>{i=null,o(new R(`timeout of ${t}ms exceeded`,R.ETIMEDOUT))},t);const u=()=>{e&&(i&&clearTimeout(i),i=null,e.forEach(c=>{c.unsubscribe?c.unsubscribe(o):c.removeEventListener("abort",o)}),e=null)};e.forEach(c=>c.addEventListener("abort",o));const{signal:f}=r;return f.unsubscribe=()=>l.asap(u),f}},xr=function*(e,t){let n=e.byteLength;if(n<t){yield e;return}let r=0,s;for(;r<n;)s=r+t,yield e.slice(r,s),r=s},$r=async function*(e,t){for await(const n of Fr(e))yield*xr(n,t)},Fr=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:n,value:r}=await t.read();if(n)break;yield r}}finally{await t.cancel()}},lt=(e,t,n,r)=>{const s=$r(e,t);let o=0,i,u=f=>{i||(i=!0,r&&r(f))};return new ReadableStream({async pull(f){try{const{done:c,value:a}=await s.next();if(c){u(),f.close();return}let p=a.byteLength;if(n){let m=o+=p;n(m)}f.enqueue(new Uint8Array(a))}catch(c){throw u(c),c}},cancel(f){return u(f),s.return()}},{highWaterMark:2})},ut=64*1024,{isFunction:re}=l,Dr=(({Request:e,Response:t})=>({Request:e,Response:t}))(l.global),{ReadableStream:ft,TextEncoder:dt}=l.global,pt=(e,...t)=>{try{return!!e(...t)}catch{return!1}},Ur=e=>{e=l.merge.call({skipUndefined:!0},Dr,e);const{fetch:t,Request:n,Response:r}=e,s=t?re(t):typeof fetch=="function",o=re(n),i=re(r);if(!s)return!1;const u=s&&re(ft),f=s&&(typeof dt=="function"?(h=>d=>h.encode(d))(new dt):async h=>new Uint8Array(await new n(h).arrayBuffer())),c=o&&u&&pt(()=>{let h=!1;const d=new n(A.origin,{body:new ft,method:"POST",get duplex(){return h=!0,"half"}}).headers.has("Content-Type");return h&&!d}),a=i&&u&&pt(()=>l.isReadableStream(new r("").body)),p={stream:a&&(h=>h.body)};s&&["text","arrayBuffer","blob","formData","stream"].forEach(h=>{!p[h]&&(p[h]=(d,E)=>{let b=d&&d[h];if(b)return b.call(d);throw new R(`Response type '${h}' is not supported`,R.ERR_NOT_SUPPORT,E)})});const m=async h=>{if(h==null)return 0;if(l.isBlob(h))return h.size;if(l.isSpecCompliantForm(h))return(await new n(A.origin,{method:"POST",body:h}).arrayBuffer()).byteLength;if(l.isArrayBufferView(h)||l.isArrayBuffer(h))return h.byteLength;if(l.isURLSearchParams(h)&&(h=h+""),l.isString(h))return(await f(h)).byteLength},w=async(h,d)=>{const E=l.toFiniteNumber(h.getContentLength());return E??m(d)};return async h=>{let{url:d,method:E,data:b,signal:S,cancelToken:g,timeout:O,onDownloadProgress:I,onUploadProgress:F,responseType:N,headers:Ee,withCredentials:Q="same-origin",fetchOptions:ke}=jt(h),Be=t||fetch;N=N?(N+"").toLowerCase():"text";let ee=Pr([S,g&&g.toAbortSignal()],O),H=null;const D=ee&&ee.unsubscribe&&(()=>{ee.unsubscribe()});let Me;try{if(F&&c&&E!=="get"&&E!=="head"&&(Me=await w(Ee,b))!==0){let $=new n(d,{method:"POST",body:b,duplex:"half"}),B;if(l.isFormData(b)&&(B=$.headers.get("content-type"))&&Ee.setContentType(B),$.body){const[me,te]=it(Me,ce(at(F)));b=lt($.body,ut,me,te)}}l.isString(Q)||(Q=Q?"include":"omit");const _=o&&"credentials"in n.prototype,je={...ke,signal:ee,method:E.toUpperCase(),headers:Ee.normalize().toJSON(),body:b,duplex:"half",credentials:_?Q:void 0};H=o&&new n(d,je);let x=await(o?Be(H,ke):Be(d,je));const qe=a&&(N==="stream"||N==="response");if(a&&(I||qe&&D)){const $={};["status","statusText","headers"].forEach(He=>{$[He]=x[He]});const B=l.toFiniteNumber(x.headers.get("content-length")),[me,te]=I&&it(B,ce(at(I),!0))||[];x=new r(lt(x.body,ut,me,()=>{te&&te(),D&&D()}),$)}N=N||"text";let Jt=await p[l.findKey(p,N)||"text"](x,h);return!qe&&D&&D(),await new Promise(($,B)=>{Bt($,B,{data:Jt,headers:L.from(x.headers),status:x.status,statusText:x.statusText,config:h,request:H})})}catch(_){throw D&&D(),_&&_.name==="TypeError"&&/Load failed|fetch/i.test(_.message)?Object.assign(new R("Network Error",R.ERR_NETWORK,h,H),{cause:_.cause||_}):R.from(_,_&&_.code,h,H)}}},vr=new Map,qt=e=>{let t=e&&e.env||{};const{fetch:n,Request:r,Response:s}=t,o=[r,s,n];let i=o.length,u=i,f,c,a=vr;for(;u--;)f=o[u],c=a.get(f),c===void 0&&a.set(f,c=u?new Map:Ur(t)),a=c;return c};qt();const Ue={http:er,xhr:_r,fetch:{get:qt}};l.forEach(Ue,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const ht=e=>`- ${e}`,kr=e=>l.isFunction(e)||e===null||e===!1;function Br(e,t){e=l.isArray(e)?e:[e];const{length:n}=e;let r,s;const o={};for(let i=0;i<n;i++){r=e[i];let u;if(s=r,!kr(r)&&(s=Ue[(u=String(r)).toLowerCase()],s===void 0))throw new R(`Unknown adapter '${u}'`);if(s&&(l.isFunction(s)||(s=s.get(t))))break;o[u||"#"+i]=s}if(!s){const i=Object.entries(o).map(([f,c])=>`adapter ${f} `+(c===!1?"is not supported by the environment":"is not available in the build"));let u=n?i.length>1?`since :
`+i.map(ht).join(`
`):" "+ht(i[0]):"as no adapter specified";throw new R("There is no suitable adapter to dispatch the request "+u,"ERR_NOT_SUPPORT")}return s}const Ht={getAdapter:Br,adapters:Ue};function Ne(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Z(null,e)}function Et(e){return Ne(e),e.headers=L.from(e.headers),e.data=Le.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),Ht.getAdapter(e.adapter||Y.adapter,e)(e).then(function(r){return Ne(e),r.data=Le.call(e,e.transformResponse,r),r.headers=L.from(r.headers),r},function(r){return kt(r)||(Ne(e),r&&r.response&&(r.response.data=Le.call(e,e.transformResponse,r.response),r.response.headers=L.from(r.response.headers))),Promise.reject(r)})}const Gt="1.13.4",he={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{he[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}});const mt={};he.transitional=function(t,n,r){function s(o,i){return"[Axios v"+Gt+"] Transitional option '"+o+"'"+i+(r?". "+r:"")}return(o,i,u)=>{if(t===!1)throw new R(s(i," has been removed"+(n?" in "+n:"")),R.ERR_DEPRECATED);return n&&!mt[i]&&(mt[i]=!0,console.warn(s(i," has been deprecated since v"+n+" and will be removed in the near future"))),t?t(o,i,u):!0}};he.spelling=function(t){return(n,r)=>(console.warn(`${r} is likely a misspelling of ${t}`),!0)};function Mr(e,t,n){if(typeof e!="object")throw new R("options must be an object",R.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let s=r.length;for(;s-- >0;){const o=r[s],i=t[o];if(i){const u=e[o],f=u===void 0||i(u,o,e);if(f!==!0)throw new R("option "+o+" must be "+f,R.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new R("Unknown option "+o,R.ERR_BAD_OPTION)}}const ie={assertOptions:Mr,validators:he},P=ie.validators;let v=class{constructor(t){this.defaults=t||{},this.interceptors={request:new st,response:new st}}async request(t,n){try{return await this._request(t,n)}catch(r){if(r instanceof Error){let s={};Error.captureStackTrace?Error.captureStackTrace(s):s=new Error;const o=s.stack?s.stack.replace(/^.+\n/,""):"";try{r.stack?o&&!String(r.stack).endsWith(o.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+o):r.stack=o}catch{}}throw r}}_request(t,n){typeof t=="string"?(n=n||{},n.url=t):n=t||{},n=k(this.defaults,n);const{transitional:r,paramsSerializer:s,headers:o}=n;r!==void 0&&ie.assertOptions(r,{silentJSONParsing:P.transitional(P.boolean),forcedJSONParsing:P.transitional(P.boolean),clarifyTimeoutError:P.transitional(P.boolean)},!1),s!=null&&(l.isFunction(s)?n.paramsSerializer={serialize:s}:ie.assertOptions(s,{encode:P.function,serialize:P.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),ie.assertOptions(n,{baseUrl:P.spelling("baseURL"),withXsrfToken:P.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let i=o&&l.merge(o.common,o[n.method]);o&&l.forEach(["delete","get","head","post","put","patch","common"],h=>{delete o[h]}),n.headers=L.concat(i,o);const u=[];let f=!0;this.interceptors.request.forEach(function(d){typeof d.runWhen=="function"&&d.runWhen(n)===!1||(f=f&&d.synchronous,u.unshift(d.fulfilled,d.rejected))});const c=[];this.interceptors.response.forEach(function(d){c.push(d.fulfilled,d.rejected)});let a,p=0,m;if(!f){const h=[Et.bind(this),void 0];for(h.unshift(...u),h.push(...c),m=h.length,a=Promise.resolve(n);p<m;)a=a.then(h[p++],h[p++]);return a}m=u.length;let w=n;for(;p<m;){const h=u[p++],d=u[p++];try{w=h(w)}catch(E){d.call(this,E);break}}try{a=Et.call(this,w)}catch(h){return Promise.reject(h)}for(p=0,m=c.length;p<m;)a=a.then(c[p++],c[p++]);return a}getUri(t){t=k(this.defaults,t);const n=Mt(t.baseURL,t.url,t.allowAbsoluteUrls);return Dt(n,t.params,t.paramsSerializer)}};l.forEach(["delete","get","head","options"],function(t){v.prototype[t]=function(n,r){return this.request(k(r||{},{method:t,url:n,data:(r||{}).data}))}});l.forEach(["post","put","patch"],function(t){function n(r){return function(o,i,u){return this.request(k(u||{},{method:t,headers:r?{"Content-Type":"multipart/form-data"}:{},url:o,data:i}))}}v.prototype[t]=n(),v.prototype[t+"Form"]=n(!0)});let jr=class Xt{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(o){n=o});const r=this;this.promise.then(s=>{if(!r._listeners)return;let o=r._listeners.length;for(;o-- >0;)r._listeners[o](s);r._listeners=null}),this.promise.then=s=>{let o;const i=new Promise(u=>{r.subscribe(u),o=u}).then(s);return i.cancel=function(){r.unsubscribe(o)},i},t(function(o,i,u){r.reason||(r.reason=new Z(o,i,u),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const n=this._listeners.indexOf(t);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const t=new AbortController,n=r=>{t.abort(r)};return this.subscribe(n),t.signal.unsubscribe=()=>this.unsubscribe(n),t.signal}static source(){let t;return{token:new Xt(function(s){t=s}),cancel:t}}};function qr(e){return function(n){return e.apply(null,n)}}function Hr(e){return l.isObject(e)&&e.isAxiosError===!0}const xe={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(xe).forEach(([e,t])=>{xe[t]=e});function Vt(e){const t=new v(e),n=At(v.prototype.request,t);return l.extend(n,v.prototype,t,{allOwnKeys:!0}),l.extend(n,t,null,{allOwnKeys:!0}),n.create=function(s){return Vt(k(e,s))},n}const y=Vt(Y);y.Axios=v;y.CanceledError=Z;y.CancelToken=jr;y.isCancel=kt;y.VERSION=Gt;y.toFormData=pe;y.AxiosError=R;y.Cancel=y.CanceledError;y.all=function(t){return Promise.all(t)};y.spread=qr;y.isAxiosError=Hr;y.mergeConfig=k;y.AxiosHeaders=L;y.formToJSON=e=>vt(l.isHTMLForm(e)?new FormData(e):e);y.getAdapter=Ht.getAdapter;y.HttpStatusCode=xe;y.default=y;const{Axios:Qr,AxiosError:es,CanceledError:ts,isCancel:ns,CancelToken:rs,VERSION:ss,all:os,Cancel:is,isAxiosError:ve,spread:as,toFormData:cs,AxiosHeaders:ls,HttpStatusCode:us,formToJSON:fs,getAdapter:ds,mergeConfig:ps}=y;const zt=y.create({headers:{requesttoken:pn()??"","X-Requested-With":"XMLHttpRequest"}});hn(e=>{zt.defaults.headers.requesttoken=e});const j=Object.assign(zt,{CancelToken:y.CancelToken,isCancel:y.isCancel}),Rt=Symbol("csrf-retry");function Gr(e){return async t=>{if(!ve(t))throw t;const{config:n,response:r,request:s}=t,o=s?.responseURL;if(n&&!n[Rt]&&r?.status===412&&r?.data?.message==="CSRF check failed"){console.warn(`Request to ${o} failed because of a CSRF mismatch. Fetching a new token`);const{data:{token:i}}=await e.get(le("/csrftoken"));return console.debug(`New request token ${i} fetched`),e.defaults.headers.requesttoken=i,e({...n,headers:{...n.headers,requesttoken:i},[Rt]:!0})}throw t}}const Ie=Symbol("retryDelay");function Xr(e){return async t=>{if(!ve(t))throw t;const{config:n,response:r,request:s}=t,o=s?.responseURL,i=r?.status,u=r?.headers;let f=typeof n?.[Ie]=="number"?n?.[Ie]:1;if(i===503&&u?.["x-nextcloud-maintenance-mode"]==="1"&&n?.retryIfMaintenanceMode){if(f*=2,f>32)throw console.error("Retry delay exceeded one minute, giving up.",{responseURL:o}),t;return console.warn(`Request to ${o} failed because of maintenance mode. Retrying in ${f}s`),await new Promise(c=>{setTimeout(c,f*1e3)}),e({...n,[Ie]:f})}throw t}}async function Vr(e){if(ve(e)){const{config:t,response:n,request:r}=e,s=r?.responseURL;n?.status===401&&n?.data?.message==="Current user is not logged in"&&t?.reloadExpiredSession&&window?.location&&(console.error(`Request to ${s} failed because the user session expired. Reloading the page `),window.location.reload())}throw e}j.interceptors.response.use(e=>e,Gr(j));j.interceptors.response.use(e=>e,Xr(j));j.interceptors.response.use(e=>e,Vr);function zr(){const e=Wt("aiquila","config"),t=document.querySelector("#content");if(!e.has_api_key){Jr(t);return}Kr(t)}function Jr(e){e.innerHTML=`
		<div style="display: flex; align-items: center; justify-content: center; height: 100%; padding: 40px;">
			<div style="text-align: center; max-width: 500px;">
				<h2> No API Key Configured</h2>
				<p>Please configure your Anthropic API key in the admin settings to use AIquila.</p>
				<a href="${le("/settings/admin/aiquila")}" class="button primary" style="margin-top: 20px;">
					Go to Admin Settings
				</a>
			</div>
		</div>
	`}function Kr(e,t){e.innerHTML=`
		<div style="max-width: 1200px; margin: 0 auto; padding: 20px; height: 100%; display: flex; flex-direction: column;">
			<div style="margin-bottom: 20px; display: flex; justify-content: space-between; align-items: center;">
				<h2 style="margin: 0;">Ask Claude</h2>
				<a href="${le("/settings/admin/aiquila")}" style="font-size: 14px; color: var(--color-primary-element);">
					 Settings
				</a>
			</div>

			<div id="chat-history" style="flex: 1; overflow-y: auto; border: 1px solid var(--color-border); border-radius: var(--border-radius-large); padding: 15px; background: var(--color-main-background); min-height: 400px; margin-bottom: 20px;">
				<div style="display: flex; align-items: center; justify-content: center; height: 100%; color: var(--color-text-lighter);">
					<p>Start a conversation with Claude...</p>
				</div>
			</div>

			<div>
				<textarea id="prompt-input" placeholder="Ask Claude anything..." rows="3" style="width: 100%; padding: 12px; border: 1px solid var(--color-border); border-radius: var(--border-radius); font-family: var(--font-face); resize: vertical; font-size: 14px;"></textarea>
				<div style="display: flex; justify-content: flex-end; gap: 10px; margin-top: 10px;">
					<button id="clear-btn" class="secondary">Clear</button>
					<button id="ask-btn" class="primary">Ask Claude</button>
				</div>
			</div>
		</div>
	`;const n=document.getElementById("chat-history"),r=document.getElementById("prompt-input"),s=document.getElementById("ask-btn"),o=document.getElementById("clear-btn");s.addEventListener("click",()=>wt(r.value,n,r,s)),o.addEventListener("click",()=>{r.value="",n.innerHTML='<div style="display: flex; align-items: center; justify-content: center; height: 100%; color: var(--color-text-lighter);"><p>Start a conversation with Claude...</p></div>'}),r.addEventListener("keydown",i=>{i.key==="Enter"&&!i.shiftKey&&(i.preventDefault(),wt(r.value,n,r,s))})}async function wt(e,t,n,r){if(!e.trim())return;t.querySelector("p")&&(t.innerHTML=""),n.disabled=!0,r.disabled=!0,V(t,"user",e);const s=V(t,"assistant"," Thinking...");try{const o=le("/apps/aiquila/api/ask"),i=await j.post(o,{prompt:e,context:""});s.remove(),i.data.error?(V(t,"error",i.data.error),console.error("Claude error:",i.data.error)):(V(t,"assistant",i.data.response),console.log("Response received from Claude")),n.value=""}catch(o){s.remove(),V(t,"error","Failed to communicate with Claude: "+o.message),console.error("Request failed:",o)}finally{n.disabled=!1,r.disabled=!1,n.focus()}}function V(e,t,n){const r=document.createElement("div");r.style.cssText=`
		margin-bottom: 15px;
		padding: 12px;
		border-radius: var(--border-radius);
		${t==="user"?"background: var(--color-primary-element-light); margin-left: 20%;":""}
		${t==="assistant"?"background: var(--color-background-dark); margin-right: 20%;":""}
		${t==="error"?"background: var(--color-error); color: white;":""}
	`;const s=t==="user"?"You":t==="assistant"?"Claude":"Error";return r.innerHTML=`
		<div style="margin-bottom: 5px; font-size: 13px; opacity: 0.8;">
			<strong>${s}</strong>
		</div>
		<div style="white-space: pre-wrap; word-wrap: break-word;">
			${n}
		</div>
	`,e.appendChild(r),e.scrollTop=e.scrollHeight,r}document.addEventListener("DOMContentLoaded",()=>{zr()});
