# AIquila MCP Server - Standalone Configuration
# Copy this file to .env and set your Nextcloud connection details.

# =============================
# Nextcloud Connection (REQUIRED)
# =============================

# URL of your external Nextcloud instance
NEXTCLOUD_URL=https://your-nextcloud.example.com

# Nextcloud username
NEXTCLOUD_USER=your-username

# Nextcloud password (app password recommended - see docs/mcp/setup.md)
NEXTCLOUD_PASSWORD=your-app-password

# =============================
# OAuth 2.0 Auth (for Claude.ai)
# =============================
# Set to true to enable OAuth authentication (required for Claude.ai)
MCP_AUTH_ENABLED=false
# Secret key for signing JWTs (generate with: openssl rand -hex 32)
MCP_AUTH_SECRET=
# Public HTTPS URL of this MCP server (e.g. https://mcp.example.com)
MCP_AUTH_ISSUER=

# =============================
# OAuth Client Configuration
# =============================
# Pre-seeded client for Claude Desktop (fill in the "OAuth Client ID" /
# "OAuth Client Secret" fields in Claude Desktop with these values).
# Generate: openssl rand -hex 16  (for ID)
#           openssl rand -hex 32  (for secret)
MCP_CLIENT_ID=
MCP_CLIENT_SECRET=

# Allow anonymous dynamic client registration via POST /register.
# false (default) = only pre-seeded clients above can authenticate.
# true            = any party can self-register (use MCP_REGISTRATION_TOKEN to gate).
MCP_REGISTRATION_ENABLED=false

# When MCP_REGISTRATION_ENABLED=true, require this bearer token on POST /register.
# This is the "SSH authorized_keys" model: operator distributes this token to
# authorized users, each self-registers once to get their own client_id/secret.
# Leave empty to allow open registration.
MCP_REGISTRATION_TOKEN=

# =============================
# Logging
# =============================
# Log level: trace | debug | info | warn | error | fatal  (default: info)
# LOG_LEVEL=info

# =============================
# Reverse Proxy Settings
# =============================
# Set when running behind a reverse proxy (e.g. Traefik, nginx) to prevent
# express-rate-limit from throwing ERR_ERL_UNEXPECTED_X_FORWARDED_FOR.
# Use "1" for a single reverse proxy hop (most common), "true" to trust all proxies.
# MCP_TRUST_PROXY=1
